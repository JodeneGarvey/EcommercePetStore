@model ProductDto

<h2>Edit Product</h2>
<form asp-action="Edit" method="post">
    <div class="form-group">
        <label>Name</label>
        <input asp-for="Name" class="form-control" />
    </div>
    <div class="form-group">
        <label>Price</label>
        <input asp-for="Price" class="form-control" />
    </div>
    <div class="form-group">
        <label>Quantity</label>
        <input asp-for="Quantity" class="form-control" />
    </div>
    <div class="form-group">
        <label>Categories</label>
        <select asp-for="SelectedCategoryIds" class="form-control" multiple>
            @foreach (var cat in Model.AvailableCategories)
            {
                <option value="@cat.Id" selected="@Model.SelectedCategoryIds.Contains(cat.Id)">
                    @cat.CategoryName
                </option>
            }
        </select>
    </div>
    <div class="form-group">
        <label>Product Types</label>
        <select asp-for="SelectedTypeIds" class="form-control" multiple>
            @foreach (var type in Model.AvailableTypes)
            {
                <option value="@type.Id" selected="@Model.SelectedTypeIds.Contains(type.Id)">
                    @type.Name
                </option>
            }
        </select>
    </div>
    <div class="form-group">
        <label>Current Image</label><br />
        @if (!string.IsNullOrEmpty(Model.ExistingImageUrl))
        {
            <img src="~/Products/@Model.ExistingImageUrl" width="120" />
        }
    </div>

    <div class="form-group">
        <label>Change Image</label>
        <input asp-for="ImageFile" type="file" class="form-control" />
    </div>
    <input type="submit" value="Save" class="btn btn-primary" />
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>
